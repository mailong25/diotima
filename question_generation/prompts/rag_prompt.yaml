outline_extraction:
  template: |
    You are given a table of contents from a book. Your task is to extract the corresponding page ranges for each main chapters and their subtopics.

    The output should be in JSON string format, structured like this:
    ```
    [
      {{'name': 'main_chapter_1_name', 'subtopics': [{{'name': 'sub_topic_1_name', 'page_start': , 'page_end': }}]}}, 
      {{'name': 'main_chapter_2_name', 'subtopics': [{{'name': 'sub_topic_1_name', 'page_start': , 'page_end': }}]}},
      ...
    ]
    ```

    Please don't include the chapter/subtopic index numbers in the chapter/subtopic names.

    Example output:
    ```
    [
      {{'name': 'Introduction', 'subtopics': [{{'name': 'Overview', 'page_start': 1, 'page_end': 5}}, {{'name': 'Purpose', 'page_start': 6, 'page_end': 10}}]}},
      {{'name': 'Basics', 'subtopics': [{{'name': 'Fundamentals', 'page_start': 11, 'page_end': 20}}, {{'name': 'Advanced Topics', 'page_start': 21, 'page_end': 30}}]}}
    ]
    ```

    Here is the table of contents:
    {tab_content}

  input_variables:
    - tab_content

unit_extraction:
  template: |
    Given the topic: {topic}

    From the table of contents below, identify the ONLY entries that direct match the given topic.
    
    {tab_content}

    Output Format: 
      - Provide the exact names of the matching entries from the table of contents.
      - Present them as a numbered list.
      - Do not include any additional text, formatting, or prefixes (e.g., "Chapter," "Section") beyond what's in the table of contents entry itself.
      - Select the fewest possible entries that accurately cover the topic.
      - If no suitable matches are found, output: None.
    
  input_variables:
    - topic
    - tab_content

unit_knowledge_extraction:
  template: |
    You are given raw text extracted from a textbook. This text may include a mix of instructional prompts, example questions, tasks, or language not directly related to subject-specific knowledge.

    Your task is to extract and return only the factual knowledge from the input. This includes but not limited to headings or section titles , definitions, theoretical explanations, factual descriptions, scientific laws or formulas, historical summaries (pure narrative facts), concepts and principles explained in full. Do not modify, paraphrase, or rewrite any part of the content. Only copy and return the original segments that are factual knowledge.

    Omit any of the following:
    Questions and Exercises:
    - Multiple-choice, short answer, or open-ended questions
    - Prompts like “Think about…”, “Answer the following…”, “Practice this…”
    - Questions embedded in the explanation (e.g., “What happens when…”)
    - All answers or solutions to questions
    Instructions and Task-Based Language
    - Activity directions (e.g., “Draw a diagram”, “Conduct an experiment”)
    - Group work or discussion tasks (e.g., “Discuss in pairs”, “Work with a partner”)
    - Homework or project guidelines
    Learning Prompts and Pedagogical Tools
    - Learning objectives (e.g., “By the end of this chapter, you will…”)
    - Reflective prompts (e.g., “How do you feel about…?”)
    - Self-assessment checklists
    Metadata and Formatting Cues
    - Page numbers
    - Bullet points, numbering (unless required for clarity)
    - Cross-references (e.g., “See page 23”)
    Non-Content Language
    - Jokes, analogies, or stories used to simplify content
    - Conversational language between teacher and student characters

    ---- 
    Here is the input text:

    {text}
    
  input_variables:
    - text

